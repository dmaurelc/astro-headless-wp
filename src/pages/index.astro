---
import Layout from "../layouts/Layout.astro";
import Hero from "../components/ui/Hero.astro";
import HeroTwo from "../components/ui/HeroTwo.astro";
import HeroThree from "../components/ui/HeroThree.astro";
import HeroFour from "../components/ui/HeroFour.astro";
import HeroFive from "../components/ui/HeroFive.astro";
import StatsSection from "../components/ui/StatsSection.astro";
import PropiedadesDestacadas from "../components/propiedades/PropiedadesDestacadas.astro";
import WhyChooseUs from "../components/ui/WhyChooseUs.astro";
import ProcessSteps from "../components/ui/ProcessSteps.astro";
import Testimonials from "../components/ui/Testimonials.astro";
import CtaOne from "../components/ui/CtaOne.astro";
import { obtenerPropiedades } from "../services/propiedades";

// Obtener las propiedades desde la API
const propiedades = await obtenerPropiedades();
---

<Layout title="Propiedades Inmobiliarias | Encuentra tu hogar ideal">
  <!-- Hero Principal -->
  <Hero />
  <HeroTwo />
  <HeroThree />
  <HeroFour />
  <HeroFive />

  <!-- Propiedades Destacadas -->
  <section class="py-16 bg-background">
    <div class="mx-auto max-w-7xl px-4">
      <PropiedadesDestacadas propiedades={propiedades} />
    </div>
  </section>

  <!-- Estadísticas -->
  <StatsSection />

  <!-- ¿Por qué elegirnos? -->
  <WhyChooseUs />

  <!-- Proceso de trabajo -->
  <ProcessSteps />

  <!-- Testimonios -->
  <Testimonials />

  <!-- Call to Action final -->
  <CtaOne
    title="¿Listo para encontrar tu propiedad ideal?"
    subtitle="Miles de familias ya confiaron en nosotros"
    description="Nuestro equipo de expertos te está esperando para ayudarte a dar el siguiente paso hacia el hogar de tus sueños."
    primaryButtonText="Ver todas las propiedades"
    primaryButtonUrl="/propiedades"
    secondaryButtonText="Contactar ahora"
    secondaryButtonUrl="/contacto"
  />
</Layout>
